{"ast":null,"code":"import _toConsumableArray from\"/Users/andrewkusakin/Documents/WGU/d424-software-engineering-capstone/src/main/UI/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/andrewkusakin/Documents/WGU/d424-software-engineering-capstone/src/main/UI/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import\"./guestLogin.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function GuestLogin(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),coverUrl=_useState2[0],setCoverUrl=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),galleryId=_useState4[0],setGalleryId=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),galleryName=_useState6[0],setGalleryName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),email=_useState10[0],setEmail=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isError=_useState12[0],setIsError=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isSuccess=_useState14[0],setIsSuccess=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),pictures=_useState16[0],setPictures=_useState16[1];useEffect(function(){axios.get(\"/guestlogin/\".concat(id)).then(function(res){setGalleryName(res.data.name);setGalleryId(res.data.id);setCoverUrl(res.data.coverUrl);console.log(\"Succesfully \",res.data);}).catch(function(error){console.error(error);window.location.href=\"/404\";});},[]);function onSubmit(e){e.preventDefault();axios.get(\"/viewgallery/\".concat(galleryId),{params:{password:password,email:email}}).then(function(res){console.log(\"Succesfully \",res.data);setIsError(false);setIsSuccess(true);setPictures(res.data.pictures);// window.location.href = `/viewgallery/${id}`;\n}).catch(function(error){console.error(error);if(error.response){setIsError(true);}});}useEffect(function(){console.log(\"pictures\",pictures);console.log(\"coverUrl\",coverUrl);},[pictures]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"guest-login-wrapper\",style:{backgroundImage:\"url(\".concat(coverUrl,\")\")},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"guest-login-form\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"gallery-name\",children:galleryName}),/*#__PURE__*/_jsxs(\"form\",{className:\"guest-login-form-holder\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Enter your email to view this gallery.\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input-field\",type:\"email\",placeholder:\"Email\",onChange:function onChange(e){return setEmail(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Enter password provided by the creator of this gallery.\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input-field\",type:\"password\",placeholder:\"Password\",onChange:function onChange(e){return setPassword(e.target.value);},required:true}),isError&&/*#__PURE__*/_jsx(\"p\",{children:\"password is incorrect\"}),/*#__PURE__*/_jsx(\"button\",{className:\"submit-btn\",type:\"submit\",children:\"Enter\"})]})]}),isSuccess&&/*#__PURE__*/_jsxs(\"div\",{className:\"pictures\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"gallery-name\",style:{color:\"var(--main-text-color)\"},children:galleryName}),_toConsumableArray(pictures).reverse().map(function(picture){return/*#__PURE__*/_jsx(\"img\",{src:picture.url},picture.id);})]})]})});}","map":{"version":3,"names":["axios","React","useEffect","useState","useParams","jsx","_jsx","jsxs","_jsxs","GuestLogin","_useParams","id","_useState","_useState2","_slicedToArray","coverUrl","setCoverUrl","_useState3","_useState4","galleryId","setGalleryId","_useState5","_useState6","galleryName","setGalleryName","_useState7","_useState8","password","setPassword","_useState9","_useState10","email","setEmail","_useState11","_useState12","isError","setIsError","_useState13","_useState14","isSuccess","setIsSuccess","_useState15","_useState16","pictures","setPictures","get","concat","then","res","data","name","console","log","catch","error","window","location","href","onSubmit","e","preventDefault","params","response","children","className","style","backgroundImage","type","placeholder","onChange","target","value","required","color","_toConsumableArray","reverse","map","picture","src","url"],"sources":["/Users/andrewkusakin/Documents/WGU/d424-software-engineering-capstone/src/main/UI/src/pages/guestLogin/GuestLogin.tsx"],"sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { Picture } from \"../../components/interfaces\";\nimport \"./guestLogin.css\";\n\nexport default function GuestLogin() {\n  const { id } = useParams();\n  const [coverUrl, setCoverUrl] = useState(\"\");\n  const [galleryId, setGalleryId] = useState(\"\");\n  const [galleryName, setGalleryName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [isError, setIsError] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [pictures, setPictures] = useState<Picture[]>([]);\n\n  useEffect(() => {\n    axios\n      .get(`/guestlogin/${id}`)\n      .then((res) => {\n        setGalleryName(res.data.name);\n        setGalleryId(res.data.id);\n        setCoverUrl(res.data.coverUrl);\n        console.log(\"Succesfully \", res.data);\n      })\n      .catch((error) => {console.error(error)\n      window.location.href = \"/404\"});\n  }, []);\n\n  function onSubmit(e: { preventDefault: () => void }) {\n    e.preventDefault();\n\n    axios\n      .get(`/viewgallery/${galleryId}`, {\n        params: {\n          password: password,\n          email: email,\n        },\n      })\n      .then((res) => {\n        console.log(\"Succesfully \", res.data);\n        setIsError(false);\n        setIsSuccess(true);\n\n        setPictures(res.data.pictures);\n\n        // window.location.href = `/viewgallery/${id}`;\n      })\n      .catch((error) => {\n        console.error(error);\n        if (error.response) {\n          setIsError(true);\n        }\n      });\n  }\n\n  useEffect(() => {\n    console.log(\"pictures\", pictures);\n    console.log(\"coverUrl\", coverUrl);\n  }, [pictures]);\n\n  return (\n    <div>\n      <div\n        className=\"guest-login-wrapper\"\n        style={{\n          backgroundImage: `url(${coverUrl})`,\n        }}\n      >\n        <div className=\"guest-login-form\">\n          <h3 className=\"gallery-name\">{galleryName}</h3>\n          <form className=\"guest-login-form-holder\" onSubmit={onSubmit}>\n            <label>Enter your email to view this gallery.</label>\n            <input\n            className=\"input-field\"\n              type=\"email\"\n              placeholder=\"Email\"\n              onChange={(e) => setEmail(e.target.value)}\n              required\n            />\n            <label>\n              Enter password provided by the creator of this gallery.\n            </label>\n            <input\n            className=\"input-field\"\n              type=\"password\"\n              placeholder=\"Password\"\n              onChange={(e) => setPassword(e.target.value)}\n              required\n            />\n            {isError && <p>password is incorrect</p>}\n            <button className=\"submit-btn\" type=\"submit\">Enter</button>\n          </form>\n        </div>\n\n        {isSuccess && (\n          <div className=\"pictures\">\n            <h3 className=\"gallery-name\" style={{ color: \"var(--main-text-color)\"}}>{galleryName}</h3>\n            {[...pictures].reverse().map((picture) => (\n              <img src={picture.url} key={picture.id} />\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"sVAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAAeC,SAAS,KAAQ,kBAAkB,CAElD,MAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAG,CACnC,IAAAC,UAAA,CAAeN,SAAS,CAAC,CAAC,CAAlBO,EAAE,CAAAD,UAAA,CAAFC,EAAE,CACV,IAAAC,SAAA,CAAgCT,QAAQ,CAAC,EAAE,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAAkCd,QAAQ,CAAC,EAAE,CAAC,CAAAe,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAvCE,SAAS,CAAAD,UAAA,IAAEE,YAAY,CAAAF,UAAA,IAC9B,IAAAG,UAAA,CAAsClB,QAAQ,CAAC,EAAE,CAAC,CAAAmB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA3CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAClC,IAAAG,UAAA,CAAgCtB,QAAQ,CAAC,EAAE,CAAC,CAAAuB,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAA0B1B,QAAQ,CAAC,EAAE,CAAC,CAAA2B,WAAA,CAAAhB,cAAA,CAAAe,UAAA,IAA/BE,KAAK,CAAAD,WAAA,IAAEE,QAAQ,CAAAF,WAAA,IACtB,IAAAG,WAAA,CAA8B9B,QAAQ,CAAC,KAAK,CAAC,CAAA+B,WAAA,CAAApB,cAAA,CAAAmB,WAAA,IAAtCE,OAAO,CAAAD,WAAA,IAAEE,UAAU,CAAAF,WAAA,IAC1B,IAAAG,WAAA,CAAkClC,QAAQ,CAAC,KAAK,CAAC,CAAAmC,WAAA,CAAAxB,cAAA,CAAAuB,WAAA,IAA1CE,SAAS,CAAAD,WAAA,IAAEE,YAAY,CAAAF,WAAA,IAC9B,IAAAG,WAAA,CAAgCtC,QAAQ,CAAY,EAAE,CAAC,CAAAuC,WAAA,CAAA5B,cAAA,CAAA2B,WAAA,IAAhDE,QAAQ,CAAAD,WAAA,IAAEE,WAAW,CAAAF,WAAA,IAE5BxC,SAAS,CAAC,UAAM,CACdF,KAAK,CACF6C,GAAG,gBAAAC,MAAA,CAAgBnC,EAAE,CAAE,CAAC,CACxBoC,IAAI,CAAC,SAACC,GAAG,CAAK,CACbxB,cAAc,CAACwB,GAAG,CAACC,IAAI,CAACC,IAAI,CAAC,CAC7B9B,YAAY,CAAC4B,GAAG,CAACC,IAAI,CAACtC,EAAE,CAAC,CACzBK,WAAW,CAACgC,GAAG,CAACC,IAAI,CAAClC,QAAQ,CAAC,CAC9BoC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAEJ,GAAG,CAACC,IAAI,CAAC,CACvC,CAAC,CAAC,CACDI,KAAK,CAAC,SAACC,KAAK,CAAK,CAACH,OAAO,CAACG,KAAK,CAACA,KAAK,CAAC,CACvCC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,MAAM,EAAC,CAAC,CACnC,CAAC,CAAE,EAAE,CAAC,CAEN,QAAS,CAAAC,QAAQA,CAACC,CAAiC,CAAE,CACnDA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB5D,KAAK,CACF6C,GAAG,iBAAAC,MAAA,CAAiB3B,SAAS,EAAI,CAChC0C,MAAM,CAAE,CACNlC,QAAQ,CAAEA,QAAQ,CAClBI,KAAK,CAAEA,KACT,CACF,CAAC,CAAC,CACDgB,IAAI,CAAC,SAACC,GAAG,CAAK,CACbG,OAAO,CAACC,GAAG,CAAC,cAAc,CAAEJ,GAAG,CAACC,IAAI,CAAC,CACrCb,UAAU,CAAC,KAAK,CAAC,CACjBI,YAAY,CAAC,IAAI,CAAC,CAElBI,WAAW,CAACI,GAAG,CAACC,IAAI,CAACN,QAAQ,CAAC,CAE9B;AACF,CAAC,CAAC,CACDU,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBH,OAAO,CAACG,KAAK,CAACA,KAAK,CAAC,CACpB,GAAIA,KAAK,CAACQ,QAAQ,CAAE,CAClB1B,UAAU,CAAC,IAAI,CAAC,CAClB,CACF,CAAC,CAAC,CACN,CAEAlC,SAAS,CAAC,UAAM,CACdiD,OAAO,CAACC,GAAG,CAAC,UAAU,CAAET,QAAQ,CAAC,CACjCQ,OAAO,CAACC,GAAG,CAAC,UAAU,CAAErC,QAAQ,CAAC,CACnC,CAAC,CAAE,CAAC4B,QAAQ,CAAC,CAAC,CAEd,mBACErC,IAAA,QAAAyD,QAAA,cACEvD,KAAA,QACEwD,SAAS,CAAC,qBAAqB,CAC/BC,KAAK,CAAE,CACLC,eAAe,QAAApB,MAAA,CAAS/B,QAAQ,KAClC,CAAE,CAAAgD,QAAA,eAEFvD,KAAA,QAAKwD,SAAS,CAAC,kBAAkB,CAAAD,QAAA,eAC/BzD,IAAA,OAAI0D,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAExC,WAAW,CAAK,CAAC,cAC/Cf,KAAA,SAAMwD,SAAS,CAAC,yBAAyB,CAACN,QAAQ,CAAEA,QAAS,CAAAK,QAAA,eAC3DzD,IAAA,UAAAyD,QAAA,CAAO,wCAAsC,CAAO,CAAC,cACrDzD,IAAA,UACA0D,SAAS,CAAC,aAAa,CACrBG,IAAI,CAAC,OAAO,CACZC,WAAW,CAAC,OAAO,CACnBC,QAAQ,CAAE,SAAAA,SAACV,CAAC,QAAK,CAAA3B,QAAQ,CAAC2B,CAAC,CAACW,MAAM,CAACC,KAAK,CAAC,EAAC,CAC1CC,QAAQ,MACT,CAAC,cACFlE,IAAA,UAAAyD,QAAA,CAAO,yDAEP,CAAO,CAAC,cACRzD,IAAA,UACA0D,SAAS,CAAC,aAAa,CACrBG,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,UAAU,CACtBC,QAAQ,CAAE,SAAAA,SAACV,CAAC,QAAK,CAAA/B,WAAW,CAAC+B,CAAC,CAACW,MAAM,CAACC,KAAK,CAAC,EAAC,CAC7CC,QAAQ,MACT,CAAC,CACDrC,OAAO,eAAI7B,IAAA,MAAAyD,QAAA,CAAG,uBAAqB,CAAG,CAAC,cACxCzD,IAAA,WAAQ0D,SAAS,CAAC,YAAY,CAACG,IAAI,CAAC,QAAQ,CAAAJ,QAAA,CAAC,OAAK,CAAQ,CAAC,EACvD,CAAC,EACJ,CAAC,CAELxB,SAAS,eACR/B,KAAA,QAAKwD,SAAS,CAAC,UAAU,CAAAD,QAAA,eACvBzD,IAAA,OAAI0D,SAAS,CAAC,cAAc,CAACC,KAAK,CAAE,CAAEQ,KAAK,CAAE,wBAAwB,CAAE,CAAAV,QAAA,CAAExC,WAAW,CAAK,CAAC,CACzFmD,kBAAA,CAAI/B,QAAQ,EAAEgC,OAAO,CAAC,CAAC,CAACC,GAAG,CAAC,SAACC,OAAO,qBACnCvE,IAAA,QAAKwE,GAAG,CAAED,OAAO,CAACE,GAAI,EAAMF,OAAO,CAAClE,EAAK,CAAC,EAC3C,CAAC,EACC,CACN,EACE,CAAC,CACH,CAAC,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}