{"ast":null,"code":"import _slicedToArray from\"/Users/andrewkusakin/Documents/WGU/d424-software-engineering-capstone/src/main/UI/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import'./reports.css';import axios from'axios';import Box from'@mui/material/Box';import Collapse from'@mui/material/Collapse';import IconButton from'@mui/material/IconButton';import Table from'@mui/material/Table';import TableBody from'@mui/material/TableBody';import TableCell from'@mui/material/TableCell';import TableContainer from'@mui/material/TableContainer';import TableHead from'@mui/material/TableHead';import TableRow from'@mui/material/TableRow';import Typography from'@mui/material/Typography';import Paper from'@mui/material/Paper';import KeyboardArrowDownIcon from'@mui/icons-material/KeyboardArrowDown';import KeyboardArrowUpIcon from'@mui/icons-material/KeyboardArrowUp';import CloseIcon from\"@mui/icons-material/Close\";import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Row(props){var row=props.row;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(TableRow,{sx:{'& > *':{borderBottom:'unset'}},children:[/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"expand row\",size:\"small\",onClick:function onClick(){return setOpen(!open);},children:open?/*#__PURE__*/_jsx(KeyboardArrowUpIcon,{}):/*#__PURE__*/_jsx(KeyboardArrowDownIcon,{})})}),/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:row.gallery.name}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:row.totalOpenCount})]}),/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:/*#__PURE__*/_jsx(Collapse,{in:open,timeout:\"auto\",unmountOnExit:true,children:/*#__PURE__*/_jsxs(Box,{sx:{margin:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,component:\"div\",children:\"History\"}),/*#__PURE__*/_jsxs(Table,{size:\"small\",\"aria-label\":\"purchases\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Guest Email\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Date\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:row.events.map(function(historyRow){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:historyRow.email}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:historyRow.date})]},historyRow.date);})})]})]})})})})]});}export default function Reports(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),reportsArray=_useState2[0],setReportsArray=_useState2[1];useEffect(function(){axios.get('/myreports',{params:{userId:localStorage.getItem('authUserId')}}).then(function(res){console.log(res.data);setReportsArray(res.data);}).catch(function(error){return console.error(error);});},[]);console.log(reportsArray,\"THIIIIS\");return/*#__PURE__*/_jsx(\"div\",{className:\"reports-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"reports-window\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"reports-close\",children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",children:/*#__PURE__*/_jsx(CloseIcon,{fontSize:\"large\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"reports-table\",children:/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{\"aria-label\":\"collapsible table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{}),/*#__PURE__*/_jsx(TableCell,{children:\"Gallery Name\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Total Views\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:reportsArray.map(function(row){return/*#__PURE__*/_jsx(Row,{row:row},row.gallery.name);})})]})})})]})});}","map":{"version":3,"names":["React","useEffect","useState","axios","Box","Collapse","IconButton","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Typography","Paper","KeyboardArrowDownIcon","KeyboardArrowUpIcon","CloseIcon","Link","jsx","_jsx","jsxs","_jsxs","Row","props","row","_React$useState","_React$useState2","_slicedToArray","open","setOpen","Fragment","children","sx","borderBottom","size","onClick","component","scope","gallery","name","align","totalOpenCount","style","paddingBottom","paddingTop","colSpan","in","timeout","unmountOnExit","margin","variant","gutterBottom","events","map","historyRow","email","date","Reports","_useState","_useState2","reportsArray","setReportsArray","get","params","userId","localStorage","getItem","then","res","console","log","data","catch","error","className","to","fontSize"],"sources":["/Users/andrewkusakin/Documents/WGU/d424-software-engineering-capstone/src/main/UI/src/pages/Reports/Reports.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport './reports.css'\nimport axios from 'axios'\nimport { Gallery } from '../../components/interfaces';\nimport Box from '@mui/material/Box';\nimport Collapse from '@mui/material/Collapse';\nimport IconButton from '@mui/material/IconButton';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Typography from '@mui/material/Typography';\nimport Paper from '@mui/material/Paper';\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport { Link } from 'react-router-dom';\n\ninterface Report {\n  events: ReportEvent[];\n  gallery: Gallery;\n  totalOpenCount: number;\n}\n\ninterface ReportEvent {\n  email: string;\n  date: number;\n}\n\n\nfunction Row(props: { row: Report }) {\n  const { row } = props;\n  const [open, setOpen] = React.useState(false);\n\n  return (\n    <React.Fragment>\n      <TableRow sx={{ '& > *': { borderBottom: 'unset' } }}>\n        <TableCell>\n          <IconButton\n            aria-label=\"expand row\"\n            size=\"small\"\n            onClick={() => setOpen(!open)}\n          >\n            {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\n          </IconButton>\n        </TableCell>\n        <TableCell component=\"th\" scope=\"row\">\n          {row.gallery.name}\n        </TableCell>\n        \n        <TableCell align=\"right\">{row.totalOpenCount}</TableCell>\n      </TableRow>\n      <TableRow>\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\n          <Collapse in={open} timeout=\"auto\" unmountOnExit>\n            <Box sx={{ margin: 1 }}>\n              <Typography variant=\"h6\" gutterBottom component=\"div\">\n                History\n              </Typography>\n              <Table size=\"small\" aria-label=\"purchases\">\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Guest Email</TableCell>\n                    <TableCell align=\"right\">Date</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {row.events.map((historyRow) => (\n                    <TableRow key={historyRow.date}>\n                      <TableCell component=\"th\" scope=\"row\">\n                        {historyRow.email}\n                      </TableCell>\n                      \n                      <TableCell align=\"right\">{historyRow.date}</TableCell>\n                      \n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </Box>\n          </Collapse>\n        </TableCell>\n      </TableRow>\n    </React.Fragment>\n  );\n}\n\n\n\n\n\n\nexport default function Reports() {\n\n\n\n  const [reportsArray, setReportsArray] = useState([])\nuseEffect(() => {\n  axios\n  .get('/myreports', {params: {userId: localStorage.getItem('authUserId')}})\n  .then((res) => {\n    console.log(res.data)\n    setReportsArray(res.data)\n  })\n  .catch((error) => console.error(error))\n}, [])\n  \nconsole.log(reportsArray, \"THIIIIS\")\n  return (\n    <div className='reports-wrapper'>\n      <div className='reports-window'>\n      <div className=\"reports-close\"><Link to='/dashboard' ><CloseIcon fontSize=\"large\" /></Link></div>\n<div className='reports-table'><TableContainer component={Paper}>\n      <Table aria-label=\"collapsible table\">\n        <TableHead>\n          <TableRow>\n            <TableCell />\n            <TableCell>Gallery Name</TableCell>\n            <TableCell align=\"right\">Total Views</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {reportsArray.map((row: Report) => (\n            <Row key={row.gallery.name} row={row} />\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer></div>\n\n</div>\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}