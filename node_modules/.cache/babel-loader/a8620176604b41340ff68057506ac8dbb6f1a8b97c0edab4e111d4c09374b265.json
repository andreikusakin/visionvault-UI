{"ast":null,"code":"import _slicedToArray from\"/Users/andrewkusakin/Documents/WGU/d424-software-engineering-capstone/src/main/UI/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import\"./dashboard.css\";import GalleryItem from\"../../components/galleryItem/GalleryItem\";import{Link,Outlet}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Dashboard(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),galleriesArray=_useState2[0],setGalleriesArray=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchTerm=_useState4[0],setSearchTerm=_useState4[1];var _useState5=useState(localStorage.getItem(\"authUserId\")!==null),_useState6=_slicedToArray(_useState5,2),isUserId=_useState6[0],setIsUserId=_useState6[1];function signOut(){localStorage.clear();setIsUserId(false);}console.log(localStorage.getItem(\"authUserId\")+\"USER ID\");console.log(localStorage.getItem(\"authBusinessName\")+\"Business Name\");useEffect(function(){axios.get(\"/mygalleries\",{params:{userId:localStorage.getItem(\"authUserId\")}}).then(function(res){setGalleriesArray(res.data);}).catch(function(error){return console.error(error);});},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-wrapper\",children:isUserId?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-menu\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"logo-dashboard\",children:\"VisionVault\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-menu-actions\",children:[/*#__PURE__*/_jsx(Link,{to:\"./reports\",className:\"dashboard-menu-btn\",children:\"Reports\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",onClick:signOut,className:\"dashboard-menu-btn\",children:\"Sign Out\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsx(Link,{to:\"./creategallery\",className:\"btn-add-gallery\",children:\"Create Gallery\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search\",className:\"search-bar\",onChange:function onChange(e){return setSearchTerm(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{className:\"gallaries-grid\",children:galleriesArray.filter(function(gallery){return gallery.name.toLowerCase().includes(searchTerm.toLowerCase());}).map(function(gallery){return/*#__PURE__*/_jsx(GalleryItem,{gallery:gallery},gallery.id);})}),/*#__PURE__*/_jsx(Outlet,{})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-menu\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/dashboard\",className:\"logo-dashboard\",children:\"VisionVault\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sign In to View Your Galleries\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/login\",className:\"btn-add-gallery\",children:\"Login\"})]})]})});}","map":{"version":3,"names":["React","useEffect","useState","GalleryItem","Link","Outlet","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","_useState","_useState2","_slicedToArray","galleriesArray","setGalleriesArray","_useState3","_useState4","searchTerm","setSearchTerm","_useState5","localStorage","getItem","_useState6","isUserId","setIsUserId","signOut","clear","console","log","get","params","userId","then","res","data","catch","error","className","children","href","to","onClick","type","placeholder","onChange","e","target","value","filter","gallery","name","toLowerCase","includes","map","id"],"sources":["/Users/andrewkusakin/Documents/WGU/d424-software-engineering-capstone/src/main/UI/src/pages/dashboard/Dashboard.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./dashboard.css\";\nimport GalleryItem from \"../../components/galleryItem/GalleryItem\";\nimport { Link, Outlet } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Gallery } from \"../../components/interfaces\";\n\nexport default function Dashboard() {\n  const [galleriesArray, setGalleriesArray] = useState<Gallery[]>([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  \n  const [isUserId, setIsUserId] = useState(\n    localStorage.getItem(\"authUserId\") !== null\n  );\n\n  function signOut() {\n    localStorage.clear();\n    setIsUserId(false);\n  }\n\n  console.log(localStorage.getItem(\"authUserId\") + \"USER ID\");\n  console.log(localStorage.getItem(\"authBusinessName\") + \"Business Name\");\n\n  useEffect(() => {\n    axios\n      .get(\"/mygalleries\", {\n        params: {\n          userId: localStorage.getItem(\"authUserId\"),\n        },\n      })\n      .then((res) => {\n        setGalleriesArray(res.data);\n      })\n      .catch((error) => console.error(error));\n  }, []);\n\n  return (\n    <div className=\"dashboard-wrapper\">\n      {isUserId ? (\n        <>\n          <div className=\"dashboard-menu\">\n            <a href=\"/\" className=\"logo-dashboard\">\n              VisionVault\n            </a>\n            <div className=\"dashboard-menu-actions\"><Link to=\"./reports\" className=\"dashboard-menu-btn\" >Reports</Link>\n            <Link to=\"/\" onClick={signOut} className=\"dashboard-menu-btn\">\n              Sign Out\n            </Link>\n          </div></div>\n            \n          <div className=\"dashboard-content\">\n            <Link to=\"./creategallery\" className=\"btn-add-gallery\">\n              Create Gallery\n            </Link>\n            \n            <input\n              type=\"text\"\n              placeholder=\"Search\"\n              className=\"search-bar\"\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n            <div className=\"gallaries-grid\">\n              {galleriesArray\n                .filter((gallery) =>\n                  gallery.name.toLowerCase().includes(searchTerm.toLowerCase())\n                )\n                .map((gallery) => (\n                  <GalleryItem key={gallery.id} gallery={gallery} />\n                ))}\n            </div>\n            <Outlet />\n          </div>\n        </>\n      ) : (\n        <>\n          <div className=\"dashboard-menu\">\n            <a href=\"/dashboard\" className=\"logo-dashboard\">\n              VisionVault\n            </a>\n          </div>\n          <div className=\"dashboard-content\">\n            <h3>Sign In to View Your Galleries</h3>\n            <a href=\"/login\" className=\"btn-add-gallery\">\n              Login\n            </a>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}